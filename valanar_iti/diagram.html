<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>AC • Refrigerator • Washing Machine — Parts View (Animated • EN/TA)</title>
<style>
:root{
  --bg:#f6faff; --panel:#ffffff; --blue:#00cecb; --dark:#0a2b5e;
  --muted:#5c6b85; --accent:#37b4ff; --accent2:#1a8fe0;
  --hot:#ff7b7b; --cool:#7bd3ff; --good:#22c55e;
  --shadow:0 10px 28px rgba(6,24,68,.09); --radius:16px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  background:
    radial-gradient(1000px 600px at 70% -10%, #eaf3ff 0%, var(--bg) 60%) no-repeat,
    var(--bg);
  color:var(--dark);
}
.wrap{max-width:1180px; margin:auto; padding:clamp(10px,2vw,22px)}
/* Header */
header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  margin-bottom:12px;
}
h1{margin:0; font-size:clamp(18px,2.4vw,28px); letter-spacing:.2px}
.controls{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
select,button{
  appearance:none; border:1px solid #cfe1ff; background:#fff; color:var(--dark);
  padding:10px 12px; border-radius:12px; font-weight:600;
}
button.primary{background:var(--blue); color:#fff; border-color:transparent; box-shadow:0 10px 18px rgba(11,107,255,.22)}
button:active{transform:translateY(1px)}
.badge{
  background:#e8f1ff; color:var(--blue); padding:6px 10px; border-radius:999px;
  font-size:12px; font-weight:700;
}

/* Section card */
.section{
  background:var(--panel); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:clamp(12px,2.6vw,22px); margin:18px 0;
}
.section h2{margin:0 0 8px 0; font-size:clamp(16px,2vw,22px)}
.section .subhead{margin:0 0 14px 0; color:var(--muted); font-size:13px}

/* Diagram */
.diagram{
  width:100%; aspect-ratio:16/9; position:relative; overflow:hidden; border-radius:14px;
  background:linear-gradient(180deg,#ffffff 0%,#f0f6ff 100%);
}
svg{width:100%; height:100%; display:block}

/* Labels */
.label{font:700 12px/1 system-ui,Arial; fill:var(--dark)}
.small{font:600 10px/1 system-ui,Arial; fill:var(--muted)}

/* Boxes/parts */
.part{filter: drop-shadow(0 4px 12px rgba(2, 20, 80, .08))}
.box-blue{fill:#d7e9ff}
.box-cool{fill:#dbf5ff}
.box-hot{fill:#ffd9d9}
.box-mid{fill:#eef4ff}
.stroke-blue{stroke:#0b6bff; stroke-width:1}
.stroke-mid{stroke:#b7c9ff; stroke-width:1}

/* Flow animations */
.flow{fill:none; stroke:var(--accent2); stroke-width:4; stroke-linecap:round;
  stroke-dasharray:12 9; animation:flow 3s linear infinite;
  filter: drop-shadow(0 0 8px rgba(26,143,224,.35));
}
@keyframes flow{to{stroke-dashoffset:-240}}
.air{fill:none; stroke:#9bdcff; stroke-width:4; stroke-dasharray:1 10; animation:air 2s linear infinite}
@keyframes air{to{stroke-dashoffset:-60}}
.arrow{fill:#9bdcff}
.pulse{animation:pulse 2s ease-in-out infinite}
@keyframes pulse{
  0%,100%{transform:scale(1); opacity:1}
  50%{transform:scale(1.1); opacity:.75}
}
.spin{animation:spin 30s linear infinite; transform-origin:center}
@keyframes spin{to{transform:rotate(360deg)}}

/* Hover highlight */
.hit{cursor:pointer; transition:filter .2s ease}
.hit:hover{filter:brightness(1.05) saturate(1.1) drop-shadow(0 0 10px rgba(11,107,255,.25))}

/* Sticky Summary Ticker */
.ticker{
  position:sticky; bottom:0; left:0; right:0; z-index:5;
  margin-top:18px;
}
.ticker-inner{
  background:linear-gradient(90deg, #0b6bff, #1a8fe0);
  color:#fff; border-radius:14px; box-shadow:0 14px 24px rgba(11,107,255,.25);
  padding:10px 14px; overflow:hidden; position:relative;
}
.ticker-track{
  white-space:nowrap; display:inline-block;
  animation:ticker 28s linear infinite;
  font-weight:700; letter-spacing:.2px
}
@keyframes ticker{
  from{transform:translateX(0)}
  to{transform:translateX(-50%)}
}
.t-sep{opacity:.5; margin:0 14px}

/* Footer */
footer{margin:16px 0 8px; text-align:center; color:var(--muted); font-size:12px}
footer b{color:var(--blue)}

/* Responsive text tweaks */
@media (max-width:640px){
  .label{font-size:11px}
  .small{font-size:9px}
}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1 id="app-title">Appliance Parts View — Animated</h1>
    <div class="controls">
    <select id="lang">
        <option value="en">English</option>
        <option value="ta">தமிழ்</option>
      </select>
      <button id="pause" class="primary">Pause Animations</button>
    </div>
  </header>

  <!-- ============= AIR CONDITIONER ============= -->
  <section class="section" id="ac-section" data-appliance="ac">
    <h2 id="ac-title">Air Conditioner — All Parts</h2>
    <p class="subhead" id="ac-sub">Outdoor & indoor units with refrigerant and airflow</p>

    <div class="diagram">
      <svg viewBox="0 0 1200 675" aria-label="AC Parts Diagram">
        <!-- Outdoor Unit -->
        <rect x="780" y="110" width="280" height="260" rx="16" class="box-hot part hit" data-key="ac_outdoor_casing"/>
        <text x="920" y="128" text-anchor="middle" class="label" id="ac-outdoor">Outdoor Unit</text>

        <!-- Condenser coil -->
        <rect x="800" y="160" width="240" height="120" rx="10" class="box-mid stroke-mid part hit" data-key="ac_condenser_coil"/>
        <text x="920" y="154" text-anchor="middle" class="small" id="ac-cond-coil">Condenser Coil</text>
        <!-- Condenser fan (spinning) -->
        <circle cx="920" cy="230" r="38" class="box-blue stroke-mid part spin hit" data-key="ac_condenser_fan"/>
        <line x1="920" y1="230" x2="955" y2="230" stroke="#0b6bff" stroke-width="3"/>
        <line x1="920" y1="230" x2="885" y2="230" stroke="#0b6bff" stroke-width="3"/>
        <line x1="920" y1="230" x2="920" y2="195" stroke="#0b6bff" stroke-width="3"/>
        <line x1="920" y1="230" x2="920" y2="265" stroke="#0b6bff" stroke-width="3"/>

        <!-- Compressor -->
        <rect x="820" y="300" width="90" height="60" rx="10" class="box-blue stroke-blue part hit" data-key="ac_compressor"/>
        <text x="865" y="294" text-anchor="middle" class="small" id="ac-compressor">Compressor</text>

        <!-- Filter drier -->
        <rect x="930" y="300" width="60" height="26" rx="6" class="box-mid stroke-mid part hit" data-key="ac_filter_drier"/>
        <text x="960" y="295" text-anchor="middle" class="small" id="ac-filter">Filter/Drier</text>

        <!-- Expansion Valve -->
        <rect x="720" y="390" width="56" height="40" rx="8" class="box-mid stroke-blue part hit" data-key="ac_expansion_valve"/>
        <text x="748" y="386" text-anchor="middle" class="small" id="ac-expansion">Expansion Valve</text>

        <!-- Indoor Unit -->
        <rect x="160" y="420" width="360" height="190" rx="16" class="box-cool part hit" data-key="ac_indoor_casing"/>
        <text x="340" y="438" text-anchor="middle" class="label" id="ac-indoor">Indoor Unit</text>

        <!-- Evaporator coil -->
        <rect x="180" y="460" width="320" height="60" rx="10" class="box-mid stroke-mid part hit" data-key="ac_evaporator_coil"/>
        <text x="340" y="456" text-anchor="middle" class="small" id="ac-evap-coil">Evaporator Coil</text>

        <!-- Blower fan -->
        <rect x="260" y="530" width="160" height="40" rx="10" class="box-blue stroke-mid part hit" data-key="ac_blower_fan"/>
        <text x="340" y="526" text-anchor="middle" class="small" id="ac-blower">Blower Fan</text>

        <!-- Filter -->
        <rect x="180" y="530" width="60" height="40" rx="8" class="box-mid stroke-mid part hit" data-key="ac_air_filter"/>
        <text x="210" y="526" text-anchor="middle" class="small" id="ac-filter-air">Air Filter</text>

        <!-- Lines -->
        <path d="M 910 300 L 910 280 L 1020 280 L 1020 200"
              class="flow" />
        <path d="M 1020 200 C 980 160 920 170 860 200 C 810 225 770 260 740 320 L 748 390"
              class="flow"/>
        <path d="M 776 410 C 720 420 640 430 560 460 C 500 485 440 520 380 540"
              class="flow"/>
        <path d="M 330 550 C 300 560 260 560 230 540 C 210 525 210 500 230 485 C 260 465 330 450 420 440"
              class="flow"/>

        <!-- Airflow arrows (indoor to user) -->
        <path d="M 60 520 Q 120 510 170 520" class="air"/>
        <polygon points="170,520 160,516 160,524" class="arrow"/>

        <!-- Labels for pipes -->
        <text x="740" y="350" class="small" id="ac-liquid">Liquid Line</text>
        <text x="560" y="470" class="small" id="ac-suction">Suction Line</text>

        <!-- Thermostat -->
        <rect x="520" y="430" width="56" height="36" rx="8" class="box-mid stroke-blue part hit" data-key="ac_thermostat"/>
        <text x="548" y="426" text-anchor="middle" class="small" id="ac-thermostat">Thermostat</text>
      </svg>
    </div>
  </section>

  <!-- ============= REFRIGERATOR ============= -->
  <section class="section" id="ref-section" data-appliance="ref">
    <h2 id="ref-title">Refrigerator — All Parts</h2>
    <p class="subhead" id="ref-sub">Food compartment, sealed system, air circulation & defrost</p>

    <div class="diagram">
      <svg viewBox="0 0 1200 675" aria-label="Refrigerator Parts Diagram">
        <!-- Cabinet -->
        <rect x="240" y="80" width="360" height="520" rx="20" class="box-mid part hit" data-key="ref_cabinet"/>
        <text x="420" y="70" text-anchor="middle" class="label" id="ref-cab">Cabinet</text>

        <!-- Shelves -->
        <rect x="270" y="130" width="300" height="12" rx="6" class="box-blue part" />
        <rect x="270" y="190" width="300" height="12" rx="6" class="box-blue part" />
        <rect x="270" y="250" width="300" height="12" rx="6" class="box-blue part" />
        <text x="420" y="120" text-anchor="middle" class="small" id="ref-shelves">Shelves</text>

        <!-- Door gasket -->
        <rect x="240" y="80" width="360" height="520" rx="20" class="part" style="fill:none;stroke:#0b6bff;stroke-width:3" data-key="ref_door_gasket"/>
        <text x="610" y="100" class="small" id="ref-gasket">Door Gasket</text>

        <!-- Evaporator & fan (freezer area) -->
        <rect x="640" y="110" width="180" height="120" rx="12" class="box-cool stroke-mid part hit" data-key="ref_evap_coil"/>
        <text x="730" y="105" text-anchor="middle" class="small" id="ref-evap">Evaporator Coil</text>
        <circle cx="730" cy="170" r="28" class="box-blue stroke-mid spin part hit" data-key="ref_evap_fan"/>
        <text x="730" y="210" text-anchor="middle" class="small" id="ref-evap-fan">Evaporator Fan</text>

        <!-- Compressor -->
        <rect x="700" y="420" width="100" height="70" rx="12" class="box-blue stroke-blue part hit" data-key="ref_compressor"/>
        <text x="750" y="414" text-anchor="middle" class="small" id="ref-comp">Compressor</text>

        <!-- Condenser coil + fan -->
        <rect x="840" y="420" width="140" height="70" rx="12" class="box-hot part hit" data-key="ref_condenser_coil"/>
        <text x="910" y="414" text-anchor="middle" class="small" id="ref-cond-coil">Condenser Coil</text>
        <circle cx="910" cy="455" r="24" class="box-blue stroke-mid spin part hit" data-key="ref_cond_fan"/>
        <text x="910" y="502" text-anchor="middle" class="small" id="ref-cond-fan">Condenser Fan</text>

        <!-- Capillary / expansion -->
        <rect x="660" y="300" width="80" height="24" rx="8" class="box-mid stroke-blue part hit" data-key="ref_capillary"/>
        <text x="700" y="295" text-anchor="middle" class="small" id="ref-cap">Capillary / Expansion</text>

        <!-- Defrost heater -->
        <rect x="640" y="240" width="180" height="12" rx="6" class="box-hot part hit" data-key="ref_defrost_heater"/>
        <text x="730" y="236" text-anchor="middle" class="small" id="ref-defrost">Defrost Heater</text>

        <!-- Drain pan -->
        <rect x="420" y="560" width="160" height="28" rx="8" class="box-mid stroke-mid part hit" data-key="ref_drain_pan"/>
        <text x="500" y="556" text-anchor="middle" class="small" id="ref-drain">Drain Pan</text>

        <!-- Flow (sealed system) -->
        <path d="M 750 420 L 910 420 L 910 360 L 730 240 L 700 312 L 750 420"
              class="flow"/>
      </svg>
    </div>
  </section>

  <!-- ============= WASHING MACHINE ============= -->
  <section class="section" id="wm-section" data-appliance="wm">
    <h2 id="wm-title">Washing Machine — All Parts</h2>
    <p class="subhead" id="wm-sub">Drive system, water path, control & suspension</p>

    <div class="diagram">
      <svg viewBox="0 0 1200 675" aria-label="Washing Machine Parts Diagram">
        <!-- Body -->
        <rect x="360" y="80" width="420" height="520" rx="22" class="box-mid part hit" data-key="wm_body"/>
        <text x="570" y="70" text-anchor="middle" class="label" id="wm-body">Cabinet / Body</text>

        <!-- Drum & tub -->
        <circle cx="570" cy="320" r="140" class="box-blue stroke-mid part hit" data-key="wm_drum"/>
        <circle cx="570" cy="320" r="110" class="box-cool stroke-mid part"/>
        <text x="570" y="320" text-anchor="middle" class="small" id="wm-drum">Inner Drum</text>
        <text x="570" y="360" text-anchor="middle" class="small" id="wm-tub">Outer Tub</text>

        <!-- Motor -->
        <rect x="520" y="510" width="100" height="50" rx="10" class="box-blue stroke-blue part hit" data-key="wm_motor"/>
        <text x="570" y="504" text-anchor="middle" class="small" id="wm-motor">Motor</text>
        <!-- Belt (if belt drive) -->
        <path d="M 570 450 C 600 470 600 520 570 535 C 540 520 540 470 570 450 Z" class="flow"/>

        <!-- Inlet valve & dispenser -->
        <rect x="720" y="120" width="70" height="34" rx="8" class="box-mid stroke-blue part hit" data-key="wm_inlet_valve"/>
        <text x="755" y="116" text-anchor="middle" class="small" id="wm-inlet">Inlet Valve</text>
        <rect x="660" y="120" width="50" height="34" rx="8" class="box-mid stroke-mid part hit" data-key="wm_dispenser"/>
        <text x="685" y="116" text-anchor="middle" class="small" id="wm-disp">Detergent Dispenser</text>

        <!-- Drain pump -->
        <rect x="430" y="520" width="70" height="40" rx="8" class="box-mid stroke-blue part hit" data-key="wm_drain_pump"/>
        <text x="465" y="516" text-anchor="middle" class="small" id="wm-pump">Drain Pump</text>

        <!-- Shock absorbers -->
        <rect x="430" y="430" width="20" height="60" rx="6" class="box-hot part hit" data-key="wm_shock_left"/>
        <rect x="700" y="430" width="20" height="60" rx="6" class="box-hot part hit" data-key="wm_shock_right"/>
        <text x="570" y="430" text-anchor="middle" class="small" id="wm-shock">Suspension / Shocks</text>

        <!-- Control panel -->
        <rect x="420" y="90" width="300" height="40" rx="10" class="box-blue stroke-mid part hit" data-key="wm_control_panel"/>
        <text x="570" y="86" text-anchor="middle" class="small" id="wm-ctrl">Control Panel / PCB</text>

        <!-- Door lock -->
        <rect x="720" y="290" width="28" height="60" rx="6" class="box-mid stroke-blue part hit" data-key="wm_door_lock"/>
        <text x="755" y="290" class="small" id="wm-lock">Door Lock</text>

        <!-- Water flow -->
        <path d="M 755 140 L 685 140 L 640 160 L 610 200 L 590 240"
              class="air"/>
        <polygon points="590,240 598,236 598,244" class="arrow"/>

        <!-- Drain flow -->
        <path d="M 500 520 L 470 520 L 450 520"
              class="air"/>
        <polygon points="450,520 458,516 458,524" class="arrow"/>
      </svg>
    </div>
  </section>

  <!-- ===== Sticky Summary Ticker (auto-animated; changes with language) ===== -->


  <footer>Made with 💙 for <b>Sastha Software | Call : (+91) 6383003056</b></footer>
</div>

<script>
/* ---------- Translations: English & Tamil (labels + summaries) ---------- */
const T = {
  en: {
    appTitle: "Appliance Parts View — Animated",
    acTitle: "Air Conditioner — All Parts",
    acSub: "Outdoor & indoor units with refrigerant and airflow",
    refTitle: "Refrigerator — All Parts",
    refSub: "Food compartment, sealed system, air circulation & defrost",
    wmTitle: "Washing Machine — All Parts",
    wmSub: "Drive system, water path, control & suspension",
    parts: {
      // AC
      ac_outdoor_casing: ["Outdoor Unit","Holds compressor, condenser coil & fan; rejects heat to outside air."],
      ac_condenser_coil: ["Condenser Coil","Hot refrigerant gas condenses to liquid; heat goes to ambient."],
      ac_condenser_fan: ["Condenser Fan","Pulls outside air across condenser fins for better heat rejection."],
      ac_compressor: ["Compressor","Raises pressure & temperature; moves refrigerant through the loop."],
      ac_filter_drier: ["Filter / Drier","Removes moisture & debris; protects TXV/capillary from blockage."],
      ac_expansion_valve: ["Expansion Valve","Drops pressure; liquid flashes to cold mix before evaporator."],
      ac_indoor_casing: ["Indoor Unit","Contains evaporator coil, blower & air filter; cools room air."],
      ac_evaporator_coil: ["Evaporator Coil","Absorbs heat from room air; refrigerant boils to low-pressure vapor."],
      ac_blower_fan: ["Blower Fan","Circulates room air across evaporator fins & back into the room."],
      ac_air_filter: ["Air Filter","Traps dust to protect coil and keep airflow clean."],
      ac_thermostat: ["Thermostat","Senses room temperature; cycles system to maintain setpoint."],
      ac_liquid: ["Liquid Line","High-pressure liquid from condenser to expansion device."],
      ac_suction: ["Suction Line","Low-pressure vapor returns to compressor."],
      // Refrigerator
      ref_cabinet: ["Cabinet","Insulated body to keep food cold efficiently."],
      ref_door_gasket: ["Door Gasket","Seals the door; prevents warm air infiltration & moisture."],
      ref_evap_coil: ["Evaporator Coil","Absorbs heat inside freezer/fridge sections."],
      ref_evap_fan: ["Evaporator Fan","Moves cold air through ducts to all compartments."],
      ref_compressor: ["Compressor","Pumps refrigerant; maintains pressure difference for cooling."],
      ref_condenser_coil: ["Condenser Coil","Dumps heat to room air; usually at back or bottom."],
      ref_cond_fan: ["Condenser Fan","Pulls room air across condenser for efficient heat removal."],
      ref_capillary: ["Capillary / Expansion","Metering device; creates pressure drop into evaporator."],
      ref_defrost_heater: ["Defrost Heater","Melts frost off evaporator during defrost cycle."],
      ref_drain_pan: ["Drain Pan","Collects defrost water; evaporates over time."],
      ref_shelves: ["Shelves","Food storage platforms; allow air circulation."],
      // Washing Machine
      wm_body: ["Cabinet / Body","Encloses drum, tub, motor and electronics."],
      wm_drum: ["Inner Drum","Holds clothes; spins to wash/rinse/extract water."],
      wm_tub: ["Outer Tub","Holds water around the drum; sealed to cabinet."],
      wm_motor: ["Motor","Drives drum (belt or direct drive) for wash & spin."],
      wm_inlet_valve: ["Inlet Valve","Opens to let water in from the supply."],
      wm_dispenser: ["Detergent Dispenser","Mixes detergent/softener into incoming water."],
      wm_drain_pump: ["Drain Pump","Expels water to the drain during cycles."],
      wm_shock_left: ["Shock Absorber (L)","Reduces vibration during spin."],
      wm_shock_right: ["Shock Absorber (R)","Reduces vibration during spin."],
      wm_control_panel: ["Control Panel / PCB","User interface & main controller for programs."],
      wm_door_lock: ["Door Lock","Safety interlock; keeps door shut during operation."],
    },
    tickerIntro: "PARTS SUMMARY",
    sep: " • "
  },
  ta: {
    appTitle: "வீட்டு உபகரணங்கள் — பாகங்கள் (அசைவு)",
    acTitle: "ஏர் கண்டிஷனர் — அனைத்து பாகங்கள்",
   acSub: "Outdoor & indoor units with refrigerant and airflow",
    refTitle: "Refrigerator — All Parts",
    refSub: "Food compartment, sealed system, air circulation & defrost",
    wmTitle: "Washing Machine — All Parts",
    wmSub: "Drive system, water path, control & suspension",
    parts: {
      // AC
      ac_outdoor_casing: ["Outdoor Unit","Holds compressor, condenser coil & fan; rejects heat to outside air."],
      ac_condenser_coil: ["Condenser Coil","Hot refrigerant gas condenses to liquid; heat goes to ambient."],
      ac_condenser_fan: ["Condenser Fan","Pulls outside air across condenser fins for better heat rejection."],
      ac_compressor: ["Compressor","Raises pressure & temperature; moves refrigerant through the loop."],
      ac_filter_drier: ["Filter / Drier","Removes moisture & debris; protects TXV/capillary from blockage."],
      ac_expansion_valve: ["Expansion Valve","Drops pressure; liquid flashes to cold mix before evaporator."],
      ac_indoor_casing: ["Indoor Unit","Contains evaporator coil, blower & air filter; cools room air."],
      ac_evaporator_coil: ["Evaporator Coil","Absorbs heat from room air; refrigerant boils to low-pressure vapor."],
      ac_blower_fan: ["Blower Fan","Circulates room air across evaporator fins & back into the room."],
      ac_air_filter: ["Air Filter","Traps dust to protect coil and keep airflow clean."],
      ac_thermostat: ["Thermostat","Senses room temperature; cycles system to maintain setpoint."],
      ac_liquid: ["Liquid Line","High-pressure liquid from condenser to expansion device."],
      ac_suction: ["Suction Line","Low-pressure vapor returns to compressor."],
      // Refrigerator
      ref_cabinet: ["Cabinet","Insulated body to keep food cold efficiently."],
      ref_door_gasket: ["Door Gasket","Seals the door; prevents warm air infiltration & moisture."],
      ref_evap_coil: ["Evaporator Coil","Absorbs heat inside freezer/fridge sections."],
      ref_evap_fan: ["Evaporator Fan","Moves cold air through ducts to all compartments."],
      ref_compressor: ["Compressor","Pumps refrigerant; maintains pressure difference for cooling."],
      ref_condenser_coil: ["Condenser Coil","Dumps heat to room air; usually at back or bottom."],
      ref_cond_fan: ["Condenser Fan","Pulls room air across condenser for efficient heat removal."],
      ref_capillary: ["Capillary / Expansion","Metering device; creates pressure drop into evaporator."],
      ref_defrost_heater: ["Defrost Heater","Melts frost off evaporator during defrost cycle."],
      ref_drain_pan: ["Drain Pan","Collects defrost water; evaporates over time."],
      ref_shelves: ["Shelves","Food storage platforms; allow air circulation."],
      // Washing Machine
      wm_body: ["Cabinet / Body","Encloses drum, tub, motor and electronics."],
      wm_drum: ["Inner Drum","Holds clothes; spins to wash/rinse/extract water."],
      wm_tub: ["Outer Tub","Holds water around the drum; sealed to cabinet."],
      wm_motor: ["Motor","Drives drum (belt or direct drive) for wash & spin."],
      wm_inlet_valve: ["Inlet Valve","Opens to let water in from the supply."],
      wm_dispenser: ["Detergent Dispenser","Mixes detergent/softener into incoming water."],
      wm_drain_pump: ["Drain Pump","Expels water to the drain during cycles."],
      wm_shock_left: ["Shock Absorber (L)","Reduces vibration during spin."],
      wm_shock_right: ["Shock Absorber (R)","Reduces vibration during spin."],
      wm_control_panel: ["Control Panel / PCB","User interface & main controller for programs."],
      wm_door_lock: ["Door Lock","Safety interlock; keeps door shut during operation."],
    },
    tickerIntro: "PARTS SUMMARY",
    sep: " • "
  },
  ta: {
    appTitle: "வீட்டு உபகரணங்கள் — பாகங்கள் (அசைவு)",
    acTitle: "ஏர் கண்டிஷனர் — அனைத்து பாகங்கள்",
    acSub: "வெளிப்பகுதி & உள்பகுதி, குளிர்மப் போக்குவரத்து மற்றும் காற்றோட்டம்",
    refTitle: "குளிர்சாதன பெட்டி — அனைத்து பாகங்கள்",
    refSub: "உணவு பகுதி, சீல்டு சிஸ்டம், காற்றோட்டம் & டிஃப்ராஸ்ட்",
    wmTitle: "வாஷிங் மெஷின் — அனைத்து பாகங்கள்",
    wmSub: "டிரைவ் சிஸ்டம், நீர் பாதை, கட்டுப்பாடு & சஸ்பென்ஷன்",
    parts: {
      // AC
      ac_outdoor_casing: ["வெளிப்பகுதி யூனிட்","கம்ப்ரசர், கண்டென்சர் காயில், ஃபேன் ஆகியவை அடங்கும்; வெப்பத்தை வெளியேற்றும்."],
      ac_condenser_coil: ["கொண்டென்சர் காயில்","சூடான வாயு திரவமாக மாறும்; வெப்பம் வெளி காற்றுக்கு செல்கிறது."],
      ac_condenser_fan: ["கொண்டென்சர் ஃபேன்","கொண்டென்சர் மீது காற்றோட்டத்தை அதிகரித்து வெப்பத்தை வெளியேற்றுகிறது."],
      ac_compressor: ["கம்ப்ரசர்","அழுத்தத்தையும் வெப்பத்தையும் உயர்த்தி குளிர்மப்பொருளை சுழற்றுகிறது."],
      ac_filter_drier: ["பில்டர் / டிரையர்","ஈரப்பதம்/தூசிகளை நீக்கி தடைகளைத் தடுக்கிறது."],
      ac_expansion_valve: ["விரிவாக்க வால்வு","அழுத்தத்தை குறைத்து குளிர்ந்த கலவையை உருவாக்குகிறது."],
      ac_indoor_casing: ["உள்பகுதி யூனிட்","ஈவப்பரேட்டர், ப்ளோவர், ஏர் பில்டர்—அறை காற்றை குளிர்ப்பிக்கிறது."],
      ac_evaporator_coil: ["ஈவப்பரேட்டர் காயில்","அறை வெப்பத்தை உறிஞ்சி குளிர்மம் ஆவியாகிறது."],
      ac_blower_fan: ["ப்ளோவர் ஃபேன்","காற்றை காயில் வழியாக சுழற்றி அறைக்குள் விடுகிறது."],
      ac_air_filter: ["ஏர் பில்டர்","தூசியை பிடித்து காயிலையும் காற்றையும் சுத்தமாக வைத்தல்."],
      ac_thermostat: ["தெர்மோஸ்டாட்","அறை வெப்பத்தை கண்காணித்து ஆன்/ஆஃப் கட்டுப்பாடு செய்கிறது."],
      ac_liquid: ["லிக்விட் லைன்","கொண்டென்சரிலிருந்து விரிவாக்கத்திற்கு உயர் அழுத்த திரவு."],
      ac_suction: ["சக்ஷன் லைன்","ஈவப்பரேட்டரிலிருந்து கம்ப்ரசருக்கு குறைந்த அழுத்த வாயு."],
      // Refrigerator
      ref_cabinet: ["கேபினெட்","உணவை குளிராக வைத்துக் கொள்ள உஷ்ண தடுப்பு உடல்."],
      ref_door_gasket: ["டோர் கேஸ்கெட்","கதவை密படுத்தி சூடான காற்று நுழைதலைத் தடுக்கிறது."],
      ref_evap_coil: ["ஈவப்பரேட்டர் காயில்","உள்ளே உள்ள வெப்பத்தை உறிஞ்சுகிறது."],
      ref_evap_fan: ["ஈவப்பரேட்டர் ஃபேன்","குளிர்ந்த காற்றை அனைத்து பகுதிகளுக்கும் எடுத்துச் செல்கிறது."],
      ref_compressor: ["கம்ப்ரசர்","குளிர்மத்தை சுழற்றி அழுத்த வேறுபாட்டை உருவாக்குகிறது."],
      ref_condenser_coil: ["கொண்டென்சர் காயில்","வெப்பத்தை அறை காற்றுக்கு வெளியேற்றுகிறது."],
      ref_cond_fan: ["கொண்டென்சர் ஃபேன்","கொண்டென்சருக்கு மேல் காற்றோட்டத்தை வழங்குகிறது."],
      ref_capillary: ["கேப்பிலரி / விரிவாக்கம்","அழுத்தம் குறைக்க உதவும் மீட்டரிங் சாதனம்."],
      ref_defrost_heater: ["டிஃப்ராஸ்ட் ஹீட்டர்","ஈவப்பரேட்டர் மீது படியும் பனியை உருக்குகிறது."],
      ref_drain_pan: ["ட்ரெயின் பான்","டிஃப்ராஸ்ட் நீர் சேகரித்து ஆவியாகும்."],
      ref_shelves: ["ஷெல்வ்ஸ்","காற்றோட்டம் இருக்கும்படி உணவை வைக்க உதவும் தட்டு."],
      // Washing Machine
      wm_body: ["கேபினெட் / உடல்","டிரம், டப், மோட்டார், எலக்ட்ரானிக்ஸ் உள்ளடக்கம்."],
      wm_drum: ["இன்டர் டிரம்","உடைகள் இருக்கும்; வாட்ச்/ரின்ஸ்/ஸ்பின் செய்கிறது."],
      wm_tub: ["ஔட்டர் டப்","டிரமைச் சுற்றி நீரை வைத்திருக்கும் பாத்திரம்."],
      wm_motor: ["மோட்டார்","டிரமைக் குத்துச்சட்டமாக அல்லது பெல்ட்டுடன் இயக்குகிறது."],
      wm_inlet_valve: ["இன்லெட் வால்வு","தண்ணீர் உள்ளே வர திறக்கும்."],
      wm_dispenser: ["டிடர்ஜெண்ட் டிஸ்பென்சர்","ஊற்றி வரும் நீரில் தூளை கலந்து விடுகிறது."],
      wm_drain_pump: ["ட்ரெயின் பம்ப்","நீரை வெளியேற்றுகிறது."],
      wm_shock_left: ["ஷாக்க் அப்சார்பர் (இ)","ஸ்பின் போது அதிர்வை குறைக்கிறது."],
      wm_shock_right: ["ஷாக்க் அப்சார்பர் (வ)","ஸ்பின் போது அதிர்வை குறைக்கிறது."],
      wm_control_panel: ["கண்ட்ரோல் பேனல் / PCB","ப்ரோகிராம் & செயல்பாட்டை கட்டுப்படுத்துகிறது."],
      wm_door_lock: ["டோர் லாக்","பாதுகாப்புக்காக ஓட்டத்தின் போது கதவை பூட்டுகிறது."],
    },
    tickerIntro: "பாகங்கள் சுருக்கம்",
    sep: " • "
  }
};

/* Parts order per appliance for ticker */
const ORDER = {
  ac: ["ac_outdoor_casing","ac_condenser_coil","ac_condenser_fan","ac_compressor","ac_filter_drier","ac_expansion_valve","ac_indoor_casing","ac_evaporator_coil","ac_blower_fan","ac_air_filter","ac_thermostat","ac_liquid","ac_suction"],
  ref:["ref_cabinet","ref_door_gasket","ref_evap_coil","ref_evap_fan","ref_compressor","ref_condenser_coil","ref_cond_fan","ref_capillary","ref_defrost_heater","ref_drain_pan","ref_shelves"],
  wm: ["wm_body","wm_drum","wm_tub","wm_motor","wm_inlet_valve","wm_dispenser","wm_drain_pump","wm_shock_left","wm_shock_right","wm_control_panel","wm_door_lock"]
};
const langSel = document.getElementById('lang');
const pauseBtn = document.getElementById('pause');
const tickerTrack = document.getElementById('ticker-track');
let paused = false;
let currentLang = 'en';

/* Helper: set text content by id */
function setText(id, text){ const el=document.getElementById(id); if(el) el.textContent=text; }

/* Apply language to all static headings/labels */
function applyLanguage(lang){
  currentLang = lang;
  const L = T[lang];
  setText('app-title', L.appTitle);
  setText('ac-title', L.acTitle);
  setText('ac-sub', L.acSub);
  setText('ref-title', L.refTitle);
  setText('ref-sub', L.refSub);
  setText('wm-title', L.wmTitle);
  setText('wm-sub', L.wmSub);

  // Update labels for each known part id element (id map)
  const idMap = {
    // AC
    "ac-outdoor":"ac_outdoor_casing","ac-cond-coil":"ac_condenser_coil","ac-compressor":"ac_compressor",
    "ac-filter":"ac_filter_drier","ac-expansion":"ac_expansion_valve","ac-indoor":"ac_indoor_casing",
    "ac-evap-coil":"ac_evaporator_coil","ac-blower":"ac_blower_fan","ac-filter-air":"ac_air_filter",
    "ac-thermostat":"ac_thermostat","ac-liquid":"ac_liquid","ac-suction":"ac_suction",
    // REF
    "ref-cab":"ref_cabinet","ref-gasket":"ref_door_gasket","ref-evap":"ref_evap_coil",
    "ref-evap-fan":"ref_evap_fan","ref-comp":"ref_compressor","ref-cond-coil":"ref_condenser_coil",
    "ref-cond-fan":"ref_cond_fan","ref-cap":"ref_capillary","ref-defrost":"ref_defrost_heater",
    "ref-drain":"ref_drain_pan","ref-shelves":"ref_shelves",
    // WM
    "wm-body":"wm_body","wm-drum":"wm_drum","wm-tub":"wm_tub","wm-motor":"wm_motor",
    "wm-inlet":"wm_inlet_valve","wm-disp":"wm_dispenser","wm-pump":"wm_drain_pump",
    "wm-shock":"(group)","wm-ctrl":"wm_control_panel","wm-lock":"wm_door_lock"
  };
  for (const [domId,key] of Object.entries(idMap)){
    if(key== "(group)") { setText(domId, L.parts["wm_shock_left"][0].split(" ")[0] + " / " + L.parts["wm_shock_right"][0]); continue; }
    const data = L.parts[key];
    if(data) setText(domId, data[0]);
  }

  buildTicker(); // refresh ticker text for this language
}

/* Build scrolling ticker text (duplicated 2x for seamless loop) */
function buildTicker(){
  const L = T[currentLang];
  const blocks = [];
  const groups = [
    ['ac-section','ac', L.acTitle],
    ['ref-section','ref', L.refTitle],
    ['wm-section','wm', L.wmTitle],
  ];
  for (const [secId, key, title] of groups){
    const arr = ORDER[key].map(k=>{
      const p = L.parts[k];
      if(!p) return "";
      return `${p[0]}: ${p[1]}`;
    }).filter(Boolean);
    blocks.push(`[${title}] ${arr.join(L.sep)}`);
  }
  const line = `${L.tickerIntro}: ${blocks.join("  —  ")}`;
  // Duplicate for smooth loop
  tickerTrack.textContent = line + "    " + line + "    ";
}

/* Pause/Resume all animations */
function setPaused(flag){
  paused = flag;
  const play = flag ? 'paused' : 'running';
  document.querySelectorAll('.flow,.air,.spin,.pulse,.ticker-track').forEach(el=>{
    el.style.animationPlayState = play;
  });
  pauseBtn.textContent = flag ? (currentLang==='ta' ? 'அனிமேஷன் தொடங்கு' : 'Resume Animations')
                              : (currentLang==='ta' ? 'அனிமேஷன் நிறுத்து' : 'Pause Animations');
}

/* Click a part: briefly pulse + show a temporary toast in ticker prefix */
let pulseTimer;
document.querySelectorAll('.part.hit').forEach(el=>{
  el.addEventListener('click', ()=>{
    // pulse
    el.classList.add('pulse');
    clearTimeout(pulseTimer);
    pulseTimer = setTimeout(()=>el.classList.remove('pulse'), 1200);

    // show front-loaded message in ticker
    const key = el.dataset.key;
    if(!key) return;
    const data = T[currentLang].parts[key];
    if(!data) return;
    const prefix = `★ ${data[0]}: ${data[1]}  —  `;
    tickerTrack.textContent = prefix + tickerTrack.textContent;
  });
});

/* Language & pause listeners */
langSel.addEventListener('change', e=>{ applyLanguage(e.target.value); setPaused(false); });
pauseBtn.addEventListener('click', ()=> setPaused(!paused));

/* Respect reduced motion preference */
const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)');
if (prefersReduced.matches) setPaused(true);

/* Init */
applyLanguage('en'); // default EN
</script>
</body>
</html>
